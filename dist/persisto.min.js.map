{"version":3,"sources":["../src/persisto.js"],"names":["$","window","document","undefined","_getNow","Date","getTime","MAX_INT","PersistentObject","namespace","opts","prevValue","self","this","dfd","Deferred","stamp","error","extend","remote","init","commitDelay","maxCommitDelay","pushDelay","maxPushDelay","debug","storage","localStorage","change","noop","commit","conflict","pull","push","update","debugLevel","_checkTimer","_data","offline","phase","uncommittedSince","unpushedSince","lastUpdate","lastPull","commitCount","pushCount","lastModified","ready","promise","getItem","done","resolve","fail","console","warn","JSON","parse","prototype","version","_invalidate","hint","deferredCall","prevChange","now","nextCommit","nextPush","nextCheck","clearTimeout","Math","min","setTimeout","call","_update","objData","toString","Array","unshift","arguments","log","apply","isDirty","isReady","state","get","key","i","cur","parts","replace","split","length","set","value","lastPart","pop","remove","reset","obj","setDirty","flag","time","data","timeEnd","stringify","setItem","ajax","type","url","strData","isArray","isPlainObject","always","readFromForm","form","options","$form","addNew","coerce","trim","find","each","name","attr","k","v","val","$input","filter","writeToForm","prop","inArray","is","jQuery"],"mappings":"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","file":"persisto.min.js"}