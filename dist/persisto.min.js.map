{"version":3,"sources":["../src/persisto.js"],"names":["$","window","document","undefined","_getNow","Date","getTime","MAX_INT","PersistentObject","namespace","opts","prevValue","self","this","dfd","Deferred","stamp","error","extend","remote","init","commitDelay","maxCommitDelay","pushDelay","maxPushDelay","debug","storage","localStorage","change","noop","commit","conflict","pull","push","update","_checkTimer","_data","offline","phase","uncommittedSince","unpushedSince","lastUpdate","lastPull","commitCount","pushCount","lastModified","ready","promise","getItem","done","resolve","fail","console","warn","JSON","parse","prototype","_invalidate","hint","deferredCall","prevChange","now","nextCommit","nextPush","nextCheck","clearTimeout","Math","min","setTimeout","call","_update","objData","toString","Array","unshift","arguments","log","apply","isDirty","isReady","state","get","key","i","cur","parts","replace","split","length","set","value","lastPart","pop","remove","reset","obj","setDirty","flag","time","data","timeEnd","stringify","setItem","ajax","type","url","strData","isArray","isPlainObject","always","readFromForm","form","options","$form","addNew","coerce","trim","find","each","name","attr","k","v","val","$input","filter","writeToForm","prop","inArray","is","jQuery"],"mappings":"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","file":"persisto.min.js"}